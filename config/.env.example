# ============================================================================
# APPLICATION CONFIGURATION
# ============================================================================

# Application environment (development, production)
APP_ENV=development

# Timezone for scheduling (America/New_York, UTC, etc.)
TIMEZONE=America/New_York

# Base directory for the application
BASE_DIR=/opt/top100

# ============================================================================
# WORDPRESS INTEGRATION
# ⚠️ CRITICAL: Update WP_ROOT per environment before deployment
# ============================================================================

# WordPress root directory (absolute path)
# Dev:  /var/www/mastersradio/public
# Prod: /home/user/htdocs/mastersradio
WP_ROOT=/var/www/mastersradio/public

# WordPress REST API (optional, for metadata fallback)
WP_REST_API_URL=https://dev.mastersradio.com/wp-json
WP_REST_API_USER=api-service-user
WP_REST_API_PASSWORD=app_password_here

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================

# Database credentials (leave empty to auto-detect from wp-config.php)
DB_HOST=
DB_NAME=top100
DB_USER=
DB_PASS=
DB_CHARSET=utf8mb4
DB_COLLATE=utf8mb4_unicode_ci

# ============================================================================
# SPOTIFY API CONFIGURATION
# ============================================================================

# Spotify Client Credentials (from Spotify Developer Dashboard)
SPOTIFY_CLIENT_ID=your_spotify_client_id_here
SPOTIFY_CLIENT_SECRET=your_spotify_client_secret_here

# Spotify API settings
SPOTIFY_RATE_LIMIT_PER_SECOND=10
SPOTIFY_RETRY_MAX_ATTEMPTS=5
SPOTIFY_RETRY_BASE_DELAY_MS=500

# ============================================================================
# GMAIL SMTP CONFIGURATION (OAuth2)
# ============================================================================

# Gmail SMTP settings
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_ENCRYPTION=tls

# Email sender identity
SMTP_FROM_NAME=Masters Radio Top 100
SMTP_FROM_EMAIL=reports@mastersradio.com

# Gmail OAuth2 credentials (from Google Cloud Console)
GMAIL_OAUTH_CLIENT_ID=your_google_oauth_client_id.apps.googleusercontent.com
GMAIL_OAUTH_CLIENT_SECRET=your_google_oauth_client_secret

# Gmail OAuth2 refresh token (generated by scripts/gmail_oauth_setup.php)
GMAIL_OAUTH_REFRESH_TOKEN=your_refresh_token_here

# ============================================================================
# EMAIL RECIPIENTS
# ============================================================================

# Primary report recipient
REPORT_TO_EMAIL=adam.pressman@mastersradio.com
REPORT_TO_NAME=Adam Pressman

# Error alert recipients (comma-separated)
ERROR_ALERT_EMAILS=adam.pressman@mastersradio.com

# ============================================================================
# MATCHING & RANKING CONFIGURATION
# ============================================================================

# Minimum confidence score for auto-matching (0.0 - 1.0)
MATCH_CONFIDENCE_THRESHOLD=0.85

# Duration tolerance for matching (seconds)
MATCH_DURATION_TOLERANCE_STRICT=5
MATCH_DURATION_TOLERANCE_LOOSE=10

# Number of top tracks to include in rankings
TOP_N_TRACKS=100

# ============================================================================
# FILE RETENTION
# ============================================================================

# Number of months to retain CSV reports and logs
RETENTION_MONTHS=24

# ============================================================================
# LOCKING & SCHEDULING
# ============================================================================

# Maximum age of lock file before considering it stale (hours)
LOCK_MAX_AGE_HOURS=12

# Schedule check: Only run on last Monday of month at 04:00 ET
SCHEDULE_ENABLED=true
SCHEDULE_DAY_OF_WEEK=1
SCHEDULE_HOUR=4
SCHEDULE_MINUTE=0

# ============================================================================
# LOGGING CONFIGURATION
# ============================================================================

# Log level (DEBUG, INFO, NOTICE, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# Log format (text, json)
LOG_FORMAT=text

# Enable separate error log file
LOG_ERRORS_SEPARATE=false

# ============================================================================
# DEVELOPMENT/DEBUGGING
# ============================================================================

# Enable debug mode (more verbose logging, no email on error)
DEBUG_MODE=false

# Dry run mode (process but don't write to DB or send email)
DRY_RUN=false

# Limit number of files to process (0 = no limit)
PROCESS_LIMIT=0

# ============================================================================
# ELIGIBILITY FILTERING
# ============================================================================

# Number of months prior to report date for upload eligibility
# Only songs uploaded within this window will be included in Top 100
# Set to 0 to include all songs regardless of upload date
ELIGIBILITY_MONTHS=3
